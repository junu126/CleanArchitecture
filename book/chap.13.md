# Chap.13 컴포넌트 응집도

* `어떤 클래스를 어느 컴포넌트에 포함시켜야 하나?`
* 컴포넌트 응집도와 관련된 세 가지 원칙
  * **REP: 재사용/릴리스 등가 원칙**
  * **CCP: 공통 폐쇄 원칙**
  * **CRP: 공통 재사용 원칙**

## REP: 재사용/릴리스 등가 원칙

> 재사용 단위는 릴리스 단위와 같다.

* 단일 컴포넌트는 응집성 높은 클래스와 모듈들로 구성되어야 한다.
* 컴포넌트를 구성하는 모든 모듈은 서로 공유하는 중요한 테마나 목적이 있어야 한다.

## CCP: 공통 폐쇄 원칙

> * 동일한 이유로 동일한 시점에 변경되는 클래스를 같은 컴포넌트로 묶어라.
> * 서로 다른 시점에 다른 이유로 변경되는 클래스는 다른 컴포넌트로 분리.

* 컴포넌트는 변경의 이유가 여러 개 있어서는 안된다.
* 변질 될 수 있는 클래스는 모두 한곳으로 묶을 것을 권한다.

### SRP와의 유사성

* CCP는 컴포넌트 수준의 `SRP`다.

## CRP: 공통 재사용 원칙

> 컴포넌트 사용자들을 필요하지 않는 것에 의존하게 강요하지 말라.

* 어떤 컴포넌트가 다른 컴포넌트를 사용하면 둘은 의존성으로 묶인다. 해당 의존성으로 인해 재사용성이 떨어지고, 독립적이지 않게 된다.
* 강하게 결합되지 않은 클래스들은 동일한 컴포넌트에 위치시켜서는 안 된다고 말한다.

### ISP와의 관계

* CRP는 인터페이스 분리 원칙\(`ISP`\)의 포괄적인 버전이다.
* _**필요하지 않은 것에 의존하지 말라.**_로 요약할 수 있다.

## 컴포넌트 응집도에 대한 균형 다이어그램

* 응집도에 관한 세 원칙은 서로 상충된다.
* `REP`와 `CCP`는 _**포함원칙\(컴포넌트를 크게\),**_ `CRP`는 _**배제원칙\(컴포넌트를 작게\)**_이다.
* 프로젝트의 컴포넌트 구조는 시간과 성숙도에 따라 변한다.
* 프로젝트가 실제로 수행하는 일 자체보다 프로젝트가 발전되고 사용되는 방법과 더 관련이 깊다.

## 결론

어느 클래스들을 묶어서 컴포넌트로 만들지를 결정할 때, 재사용성과 개발 가능성이라는 상충하는 힘을 반드시 고려해야 한다. 그리고 애플리케이션의 요구에 맞게 균형을 잡는 일이 중요하다.

* 컴포넌트를 구성하는 방식은 조금씩 흐트러지고 진화한다.

