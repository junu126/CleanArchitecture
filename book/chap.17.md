# Chap.17 경계: 선 긋기?

`소프트웨어 아키텍처는 선을 긋는 기술이다.`

## 두 가지 슬픈 이야기

* 너무 이른 결정에는 위험이 따른다.
* 거대한 일련의 무언가를 적절한 시기에 결정하지 못하면 실패한다.

## FitNesse

FitNesse는 저자의 프로젝트 중 하나이다.

* 초기에 내린 결정들이 파장을 일으켰다.
  * 규칙을 세움. → 많은 결정에 도움.
  * 데이터베이스에 대해 고민 x → 어떤 DB를 사용해도 상관없게 설계.
* 경계선을 긋는 행위는 결정을 늦추고 연기하는 데 도움이된다. → 시간 절약 탁월함.
* 좋은 아키텍처라면 반드시 해야한다.

## 어떻게 선을 그을까? 그리고 언제 그을까?

* 관련이 있는 것과 없는 것 사이에 선을 긋는다. \(아래는 예시\)
  * GUI와 업무규칙 사이에는 선이 있어야한다.
  * GUI와 데이터베이스 사이에는 선이 있어야한다.
  * 데이터베이스와 업무규칙 사이에는 선이 있어야한다.
* 관련이 없는 것들 끼리 선을 그어서 분리시킨다.

## 입력과 출력은?

* GUI는 시스템이 아니다. \(눈으로 보이는게 다가 아니다. → 중요하지 않다.\)
* `GUI`와 `BusinessRules`는 분리 되어야 한다.

## 플러그인에 대한 논의

ReSharper와 비주얼 스튜디오의 관계를 통해 의존성을 설명.

* VS\(visual studio\)가 ReSharper를 의존하게 만들고있기 때문에 무력화 관계가 나타남.
* 해당 관계는 비대칭적이며 소프트웨어 시스템에서 갖추고자하는 관계임.
* 특정 모듈이 나머지 모듈에 영향받지 않기를 바람.
* 모듈은 하나를 바꾸면 다른 모듈이 열이 바뀌기 때문에 비대칭적으로 이루어져야함.
* 단일 책임 원칙으로 인해 경계 구분을 알 수 있다.

## 결론

소프트웨어 아키텍처에서 경계선을 그리려면 시스템을 컴포넌트 단위로 분할해야함.

컴포넌트사이의 의존성 화살표가 특정 방향\(핵심업무\)를 향하도록 소스를 배치.

의존성 역전 원칙과 안정된 추상화 원칙을 응용한 것임을 눈치챌 수 있어야 함. 의존성 화살표는 저수준 세부사항에서 고수준의 추상화를 향하도록 배치됨.

