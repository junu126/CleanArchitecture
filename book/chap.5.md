# Chap.5 객체 지향 프로그래밍

* 좋은 아키텍처를 만드는 일은 객체 지향 설계 원칙을 이해하고 응용하는 데서 출발한다
* `OOP`의 "OO"는 캡슐화, 상속, 다형성에 기대어서 설명할 수 있다.

## 캡슐화?

* 데이터와 함수를 쉽고 효과적으로 캡슐화하는 방법을 `OOP`언어가 제공한다.
* 이를 통해 데이터와 함수가 응집력 있게 구성된 집단을 서로 구분 짓는 선을 그을 수 있다.
* 구분선 바깥에서 데이터는 은닉되고, 일부 함수만이 외부에 노출된다. → `private멤버` `public 멤버`

OO 프로그래밍은 프로그래머가 충분히 올바르게 행동함으로써 캡슐화된 데이터를 우회해서 사용하지 않을 거라는 믿음ㅇ르 기반으로 한다. 즉, 많은 OO 언어가 캡슐화를 강제하지 않는다.

## 상속?

OO 언어가 더 나은 캡슐화를 제공하지는 못했지만, 상속만큼은 OO언어가 확실히 제공했다.

* OO언어가 고안되기 훨씬 이전에도 상속과 비슷한 기법이 사용되었다.
* 즉, OO언어는 완전히 새로운 개념을 만들지는 못했지만, 데이터 구조에 가면을 씌우는 일을 상당히 편리하게 제공하고있다.

## 다형성?

OO 언어가 있기 이전에도 다형성을 표현할 수 있었다.

* OO언어는 다형성을 제공하지는 못했지만, 다형성을 좀 더 안전하고 더욱 편리하게 사용할 수 있게 해준다.
* OO언어를 이용하면 실수할 위험이 없어지고 다형성은 대수롭지 않은 일이 된다.
* 제어흐름을 간접적으로 전환하는 규칙을 부과한다고 결론 지을 수 없다.

### 다형성이 가진 힘

* `플러그인 아키텍처`는 OO의 등장으로 실용화 되기 시작하였다.

이를 설명하면 하나의 장치 또는 프로그램에 의존적이지 않고 다양한 분야에서 활용할 수 있도록 만들어진 프로그램의 플러그인. 이라고 말할 수 있다.

예를 들면 `천공카드` 더미에서 입력을 읽어서 새로운 천공카드 더미로 출력하는 프로그램은 천공카드에 의존되어있다. 이때 만약 고객이 요구를 바꿔서 자기 테이프를 사용하기 시작한다면? 프로그램을 모두 갈아야할 것 이다. 이럴 때 필요한 것이 플로그인 아키텍처이다.

### 의존성 역전

다형성 메커니즘이 등장하기 전에 솦트웨어 코드 의존성의 방향은 반드시 제어흐름을 따르게 된다. \(트리 구조\)

하지만 다형성이 등장하고 나서 제어흐름을 반대로 제어할 수 있게 되었다. 이를 의존성 역전이라고 부르며, 소프트웨어 아키텍트 관점에서 이렇나 현상은 심오한 의미를 갖는다.

* 이러한 접근법을 사용하면 소프트웨어 아키텍트는 시스템의 소스 코드 의존성 전부에 대해 방향을 결정할 수 있는 절대적인 권한을 받는다.
* 이것이 바로 OO가 제공하는 힘이다. 그리고 이것이 OO가 지향하는 바이다.

시스템의 모듈을 모두 독립접으로 배포할 수 있게 되면, 서로 다른 팀에서 각 모듈을 독립적으로 개발할 수 있다. 그리고 이것이 배포 독립성이다.

## 결론

* OO를 사용하면 아키텍트는 플러그인 아키텍처를 구성할 수 있다.
* 고수준의 정책을 포함하는 모듈은 저수준의 세부사항을 포함하는 모듈에 대해 독립성을 보장할 수 있다.

