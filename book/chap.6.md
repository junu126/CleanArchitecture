# Chap.6 함수형 프로그래밍

## 정수를 제곱하기

* 클로저 언어, 함수형 프로그래밍에선 가변 변수가 없고 변수가 한 번 초기화되면 절대로 변하지 않음.

## 불변성과 아키텍처

* 아키텍처를 고려할 때 이러한 내용이 중요한 이유는 아키텍트는 변수의 가변성을 염려하기 때문이다.
* 동시성 애플리케이션\(멀티 스레드 등..\)을 사용하는 애플리케이션에서 마주치는 모든 문제는 가변 변수가 없으면 발생하지 않음. → 가변변수를 사용하지 않고 불변하게 유지한다.
* 불변성은 실현 가능하나, 일종의 타협이 필요.

## 가변성의 분리

* 불변컴포넌트들은 가변컴포넌트와 통신한다. 그리고 이는 트랜잭션 메모리와 연결된다. \(n:1:1\)
* 애플리케이션을 제대로 구조화하려면 변수를 변경하는 컴포넌트와 변경하지 않는 컴포넌트를 분리해야 한다.
* 불변 컴포넌트에서 가능한 한 많은 처리를 한다. \(로직측면\) → 가변 컴포너느의 코드 라인 _down_

## 이벤트 소싱

* 저장 공간과 처리 능력의 한계는 거의 없어졌다. → 가변 상태는 적어져도 상관 없다.
* 이벤트 소싱이란. 상태가 아닌 트랜잭션을 저장하자는 전략. \(상태가 필요한 상황이면 그냥 트랜잭션을 처음부터 모든 트랜잭션 실행.
* 저장공간과 처리 능력이 충분하면 애플리케이션이 완전한 불변성을 갖도록 만들 수 있다. → 따라서 완전한 함수형 가능.

## 결론

지금까지의 프로그래밍론을 정리하면

* 구조적 프로그래밍은 제어흐름의 직접적인 전환에 부과되는 규율.
* 객체 지향 프로그래밍은 제어흐름의 간접적인 전환에 부과되는 규율.
* 함수형 프로그래밍은 변수 할당에 부과되는 규율.

즉, 컴퓨터 프로그램은 순차, 분기, 반복, 참조로 구성된다.

